# Wprowadzenie do Docker i Kubernetes w KontekÅ›cie Chmur Hybrydowych

## Spis TreÅ›ci
1. [Zaawansowany Kurs Docker](#zaawansowany-kurs-docker)
    - [1. Podstawowe Komendy Docker (Szybkie Przypomnienie)](#1-podstawowe-komendy-docker-szybkie-przypomnienie)
    - [2. Zaawansowane ZarzÄ…dzanie Kontenerami](#2-zaawansowane-zarzÄ…dzanie-kontenerami)
    - [3. Budowanie i Optymalizacja ObrazÃ³w](#3-budowanie-i-optymalizacja-obrazÃ³w)
    - [4. Docker Compose](#4-docker-compose)
    - [5. Woluminy i Sieci](#5-woluminy-i-sieci)
    - [6. Docker w Produkcji i Best Practices](#6-docker-w-produkcji-i-best-practices)
    - [Podsumowanie](#podsumowanie)
2. [Kubernetes â€“ Orkiestracja KontenerÃ³w](#kubernetes---orkiestracja-kontenerow)
    - [1. Wprowadzenie do Kubernetes](#1-wprowadzenie-do-kubernetes)
    - [2. Podstawowe Komponenty Kubernetes](#2-podstawowe-komponenty-kubernetes)
    - [3. Deployment i Service](#3-deployment-i-service)
    - [4. Skalowanie Aplikacji](#4-skalowanie-aplikacji)
    - [5. Monitoring i Logowanie](#5-monitoring-i-logowanie)
    - [6. Best Practices w Kubernetes](#6-best-practices-w-kubernetes)
    - [Podsumowanie Kubernetes](#podsumowanie-kubernetes)
    - [ZarzÄ…dzanie Deploymentami w Kubernetes](#zarzadzanie-deploymentami-w-kubernetes)
3. [Docker w Chmurach Hybrydowych](#docker-w-chmurach-hybrydowych)
    - [1. Co to jest Chmura Hybrydowa?](#1-co-to-jest-chmura-hybrydowa)
    - [2. Zalety Docker w Chmurach Hybrydowych](#2-zalety-docker-w-chmurach-hybrydowych)
    - [3. PrzykÅ‚ady ZastosowaÅ„](#3-przyklady-zastosowan)
    - [4. Integracja Docker z Platformami Chmurowymi](#4-integracja-docker-z-platformami-chmurowymi)
    - [Podsumowanie Docker w Chmurach Hybrydowych](#podsumowanie-docker-w-chmurach-hybrydowych)

---

## Zaawansowany Kurs Docker

1. **Podstawowe Komendy** (szybkie przypomnienie)
2. **Zaawansowane ZarzÄ…dzanie Kontenerami**
3. **Budowanie i Optymalizacja ObrazÃ³w**
4. **Docker Compose**
5. **ZarzÄ…dzanie Woluminami i Sieciami**
6. **Docker w Produkcji i Best Practices**

### 1. Podstawowe Komendy Docker (Szybkie Przypomnienie)

- **Lista kontenerÃ³w**:
  ```bash
  docker ps            # Kontenery uruchomione
  docker ps -a         # Wszystkie kontenery
  ```

- **Uruchomienie kontenera**:
  ```bash
  docker run -it --name my-container ubuntu:latest bash
  ```

- **Zatrzymanie i usuniÄ™cie kontenera**:
  ```bash
  docker stop my-container
  docker rm my-container
  ```

- **Lista obrazÃ³w**:
  ```bash
  docker images
  ```

---

### 2. Zaawansowane ZarzÄ…dzanie Kontenerami

- **Uruchomienie kontenera w tle**:
  ```bash
  docker run -d --name my-nginx -p 8080:80 nginx:latest
  ```

- **WejÅ›cie do dziaÅ‚ajÄ…cego kontenera**:
  ```bash
  docker exec -it my-nginx bash
  ```

- **Zatrzymanie wszystkich kontenerÃ³w**:
  ```bash
  docker stop $(docker ps -q)
  ```

- **UsuniÄ™cie wszystkich kontenerÃ³w**:
  ```bash
  docker rm $(docker ps -aq)
  ```

- **Logi z kontenera**:
  ```bash
  docker logs my-nginx
  ```

---

### 3. Budowanie i Optymalizacja ObrazÃ³w

#### PrzykÅ‚adowy `Dockerfile`

```dockerfile
# Bazowy obraz
FROM python:3.10

# Ustawienie katalogu roboczego
WORKDIR /app

# Kopiowanie plikÃ³w
COPY . /app

# Instalacja zaleÅ¼noÅ›ci
RUN pip install -r requirements.txt

# DomyÅ›lne polecenie
CMD ["python", "app.py"]
```

#### Budowanie Obrazu

```bash
docker build -t my-python-app .
```

#### Optymalizacja ObrazÃ³w

- **UÅ¼ywaj wieloetapowego budowania**:
  ```dockerfile
  FROM python:3.10 AS builder
  WORKDIR /app
  COPY . .
  RUN pip install -r requirements.txt

  FROM python:3.10-slim
  WORKDIR /app
  COPY --from=builder /app /app
  CMD ["python", "app.py"]
  ```

- **Minimalizuj liczbÄ™ warstw**:
  ```dockerfile
  RUN apt-get update && apt-get install -y package && rm -rf /var/lib/apt/lists/*
  ```

---

### 4. Docker Compose

#### `docker-compose.yml` â€“ PrzykÅ‚ad

```yaml
version: '3.8'

services:
  web:
    image: nginx:latest
    ports:
      - "8080:80"

  app:
    build: .
    volumes:
      - .:/app
    environment:
      - FLASK_ENV=development
```

#### Uruchamianie Docker Compose

- **Uruchomienie usÅ‚ug**:
  ```bash
  docker-compose up -d
  ```

- **Zatrzymanie usÅ‚ug**:
  ```bash
  docker-compose down
  ```

---

### 5. Woluminy i Sieci

#### Woluminy

- **Tworzenie woluminu**:
  ```bash
  docker volume create my-volume
  ```

- **UÅ¼ywanie woluminu w kontenerze**:
  ```bash
  docker run -d -v my-volume:/data ubuntu
  ```

#### Sieci

- **Tworzenie sieci**:
  ```bash
  docker network create my-network
  ```

- **PodÅ‚Ä…czanie kontenerÃ³w do sieci**:
  ```bash
  docker run -d --name app1 --network my-network nginx
  docker run -d --name app2 --network my-network nginx
  ```

---

### 6. Docker w Produkcji i Best Practices

- **Minimalizuj rozmiar obrazÃ³w**: UÅ¼ywaj obrazÃ³w typu `alpine` lub `slim`.
- **UÅ¼ywaj `docker-compose` lub `Docker Swarm`** do zarzÄ…dzania wieloma kontenerami.
- **Logowanie i monitorowanie**: UÅ¼ywaj `ELK Stack`, `Prometheus` + `Grafana`.
- **BezpieczeÅ„stwo**:
  - Nie uruchamiaj kontenerÃ³w jako `root`.
  - Ustaw limity zasobÃ³w (`--memory`, `--cpus`).
  - Skanuj obrazy za pomocÄ… `docker scan`.

---

### Podsumowanie

Ten turbo-przyspieszony kurs Dockera obejmowaÅ‚ najwaÅ¼niejsze zagadnienia:

1. Podstawowe komendy
2. Zaawansowane zarzÄ…dzanie kontenerami
3. Budowanie i optymalizacja obrazÃ³w
4. Docker Compose
5. Woluminy i sieci
6. Best practices dla produkcji

JeÅ›li masz pytania lub chcesz pogÅ‚Ä™biÄ‡ konkretny temat, daj znaÄ‡! ğŸ˜Š

---

## Kubernetes â€“ Orkiestracja KontenerÃ³w

### 1. Wprowadzenie do Kubernetes

Kubernetes to otwartoÅºrÃ³dÅ‚owa platforma do automatyzacji wdraÅ¼ania, skalowania i zarzÄ…dzania aplikacjami kontenerowymi. Zapewnia mechanizmy do zarzÄ…dzania kontenerami w Å›rodowiskach rozproszonych, co jest kluczowe w chmurach hybrydowych.

### 2. Podstawowe Komponenty Kubernetes

- **Pod**: Najmniejsza jednostka w Kubernetes, zawierajÄ…ca jeden lub wiÄ™cej kontenerÃ³w.
- **Service**: Abstrakcja definiujÄ…ca zestaw PodÃ³w i politykÄ™ dostÄ™pu.
- **Deployment**: ZarzÄ…dza deklaratywnym wdraÅ¼aniem aplikacji.
- **ReplicaSet**: Zapewnia okreÅ›lonÄ… liczbÄ™ replik PodÃ³w.
- **Namespace**: Izoluje zasoby w klastrze.

### 3. Deployment i Service

#### PrzykÅ‚ad Deployment

```yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: nginx-deployment
spec:
  replicas: 3
  selector:
    matchLabels:
      app: nginx
  template:
    metadata:
      labels:
        app: nginx
    spec:
      containers:
      - name: nginx
        image: nginx:latest
        ports:
        - containerPort: 80
```

#### PrzykÅ‚ad Service

```yaml
apiVersion: v1
kind: Service
metadata:
  name: nginx-service
spec:
  selector:
    app: nginx
  ports:
    - protocol: TCP
      port: 80
      targetPort: 80
  type: LoadBalancer
```

### 4. Skalowanie Aplikacji

- **Skalowanie rÄ™czne**:
  ```bash
  kubectl scale deployment nginx-deployment --replicas=5
  ```
- **Autoskalowanie**:
  ```bash
  kubectl autoscale deployment nginx-deployment --min=2 --max=10 --cpu-percent=80
  ```

### 5. Monitoring i Logowanie

- **Prometheus i Grafana**: Do monitorowania wydajnoÅ›ci i zasobÃ³w klastrÃ³w.
- **ELK Stack**: Do zarzÄ…dzania logami i analizy.

### 6. Best Practices w Kubernetes

- **UÅ¼ywaj deklaratywnych konfiguracji**: Zapisuj konfiguracje w plikach YAML.
- **ZarzÄ…dzaj konfiguracjÄ… i sekretami**: UÅ¼ywaj ConfigMaps i Secrets.
- **Implementuj polityki bezpieczeÅ„stwa**: Kontroluj dostÄ™p i uprawnienia.
- **Optymalizuj zasoby**: Ustaw limity i proÅ›by zasobÃ³w dla kontenerÃ³w.

### Podsumowanie Kubernetes

Kubernetes jest potÄ™Å¼nym narzÄ™dziem do zarzÄ…dzania kontenerami w skali, oferujÄ…c automatyzacjÄ™ wdraÅ¼ania, skalowania i operacji. Jego integracja z Dockerem umoÅ¼liwia efektywne zarzÄ…dzanie aplikacjami w chmurach hybrydowych.

### ZarzÄ…dzanie Deploymentami w Kubernetes

Aby wyÅ‚Ä…czyÄ‡ (zatrzymaÄ‡) Pody Kubernetes o nazwach `drone-swarm-b4cf65d45-*`, moÅ¼esz usunÄ…Ä‡ ich Deployment, ktÃ³ry je zarzÄ…dza. PoniÅ¼ej kroki, jak to zrobiÄ‡:

#### 1. ZnajdÅº nazwÄ™ Deploymentu

Z podanych nazw moÅ¼na wywnioskowaÄ‡, Å¼e Deployment nazywa siÄ™ `drone-swarm`.

SprawdÅº nazwÄ™ Deploymentu za pomocÄ…:

```bash
kubectl get deployments
```

Powinno wyÅ›wietliÄ‡ coÅ› podobnego do:

```
NAME           READY   UP-TO-DATE   AVAILABLE   AGE
drone-swarm    5/5     5            5           92m
```

#### 2. UsuÅ„ Deployment

Aby usunÄ…Ä‡ Deployment `drone-swarm`, wykonaj:

```bash
kubectl delete deployment drone-swarm
```

To polecenie usunie Deployment oraz wszystkie Pody nim zarzÄ…dzane.

#### 3. SprawdÅº status PodÃ³w

MoÅ¼esz upewniÄ‡ siÄ™, Å¼e Pody zostaÅ‚y usuniÄ™te, wykonujÄ…c:

```bash
kubectl get pods
```

JeÅ›li Pody zostaÅ‚y usuniÄ™te, nie powinny juÅ¼ byÄ‡ widoczne na liÅ›cie.

---

#### Alternatywnie: Skalowanie Deploymentu do zera

JeÅ›li nie chcesz usuwaÄ‡ Deploymentu, ale chcesz zatrzymaÄ‡ Pody, moÅ¼esz zmniejszyÄ‡ liczbÄ™ replik do zera:

```bash
kubectl scale deployment drone-swarm --replicas=0
```

To polecenie zatrzyma wszystkie Pody, ale zachowa Deployment, co pozwala pÃ³Åºniej Å‚atwo zwiÄ™kszyÄ‡ liczbÄ™ replik:

```bash
kubectl scale deployment drone-swarm --replicas=5
```

---

## Docker w Chmurach Hybrydowych

### 1. Co to jest Chmura Hybrydowa?

Chmura hybrydowa Å‚Ä…czy zasoby chmury publicznej i prywatnej, umoÅ¼liwiajÄ…c pÅ‚ynne przenoszenie aplikacji i danych miÄ™dzy nimi. To podejÅ›cie zapewnia elastycznoÅ›Ä‡, skalowalnoÅ›Ä‡ i optymalizacjÄ™ kosztÃ³w.

### 2. Zalety Docker w Chmurach Hybrydowych

- **PortabilnoÅ›Ä‡**: Kontenery Docker dziaÅ‚ajÄ… spÃ³jnie w rÃ³Å¼nych Å›rodowiskach, co uÅ‚atwia migracjÄ™ miÄ™dzy chmurami.
- **SkalowalnoÅ›Ä‡**: Docker umoÅ¼liwia Å‚atwe skalowanie aplikacji w zaleÅ¼noÅ›ci od zapotrzebowania.
- **EfektywnoÅ›Ä‡**: Kontenery sÄ… lekkie i szybkie, co pozwala na lepsze wykorzystanie zasobÃ³w.

### 3. PrzykÅ‚ady ZastosowaÅ„

- **Mikroserwisy**: Budowanie i zarzÄ…dzanie mikroserwisami w rÃ³Å¼nych Å›rodowiskach chmurowych.
- **DevOps**: Integracja Docker z pipeline CI/CD w chmurach hybrydowych.
- **Migracja Aplikacji**: Przenoszenie aplikacji z lokalnych serwerÃ³w do chmur publicznych lub odwrotnie.

### 4. Integracja Docker z Platformami Chmurowymi

- **AWS ECS/EKS**: ZarzÄ…dzanie kontenerami Docker na Amazon Web Services.
- **Azure Kubernetes Service (AKS)**: Orkiestracja kontenerÃ³w Docker na Microsoft Azure.
- **Google Kubernetes Engine (GKE)**: ZarzÄ…dzanie kontenerami Docker na Google Cloud Platform.

### Podsumowanie Docker w Chmurach Hybrydowych

Docker odgrywa kluczowÄ… rolÄ™ w implementacji rozwiÄ…zaÅ„ chmur hybrydowych, oferujÄ…c portabilnoÅ›Ä‡, skalowalnoÅ›Ä‡ i efektywnoÅ›Ä‡. DziÄ™ki integracji z platformami chmurowymi, Docker umoÅ¼liwia elastyczne zarzÄ…dzanie aplikacjami w rÃ³Å¼nych Å›rodowiskach, co jest niezbÄ™dne w nowoczesnych architekturach IT.
